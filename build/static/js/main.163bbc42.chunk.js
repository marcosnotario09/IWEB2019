(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){e.exports=n(31)},23:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(9),o=n.n(s),i=(n(23),n(1)),u=n(2),c=n(4),p=n(3),l=n(5),h=n(11),m=n(10),d=n(8),f="QUESTION_ANSWER",b="INIT_QUESTIONS",O="CHANGE_QUESTION",j="SUBMIT",v="TIMER",y="RESET",E="FETCHING";function g(e){return{type:b,payload:{questions:e}}}function w(e){return{type:j,payload:{questions:e}}}function q(e){return{type:E,payload:{status:e}}}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q=Object(d.b)({score:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case j:return e=t,n.payload.questions.map((function(t){void 0!==t.userAnswer&&t.answer.toUpperCase()===t.userAnswer.toUpperCase()&&(e+=1)})),e;case y:case b:return 0;default:return t}},finished:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case j:return!0;case b:return!1;case v:return 0===t.payload.time||e;default:return e}},currentQuestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case O:return t.payload.index<10&&t.payload.index>-1?e=t.payload.index:e;case b:return 0;default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case f:return e.map((function(e,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{userAnswer:t.payload.index===n?t.payload.answer:e.userAnswer})}));case b:return t.payload.questions;default:return e}},fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case E:return t.payload.status;default:return e}},timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case j:return 0;case v:return e-1;case b:return 120;default:return e}}}),k=(n(15),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"Button"},a.a.createElement("button",{type:"button",onClick:function(){switch(e.props.value){case"Atras":return e.props.onChangeQuestion(e.props.questionIndex-1);case"Terminar":return e.props.onSubmit();case"Siguiente":return e.props.onChangeQuestion(e.props.questionIndex+1);case"Volver a jugar":return e.props.resetQuestions();default:return 0}}},this.props.value||""," "))}}]),t}(a.a.Component)),I=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"ActionBar"},a.a.createElement("ul",null,a.a.createElement("p",null,a.a.createElement(k,{value:"Siguiente",questionIndex:this.props.questionIndex,onChangeQuestion:this.props.onChangeQuestion})),a.a.createElement("p",null,a.a.createElement(k,{value:"Terminar",questions:this.props.questions,onSubmit:this.props.onSubmit})),a.a.createElement("p",null,a.a.createElement(k,{value:"Atras",questionIndex:this.props.questionIndex,onChangeQuestion:this.props.onChangeQuestion}))))}}]),t}(a.a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Question"},a.a.createElement("h3",null,this.props.question))}}]),t}(a.a.Component),A=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"Answer"},a.a.createElement("input",{type:"text",placeholder:"Introduce la respuesta",value:this.props.question.userAnswer||"",onChange:function(t){e.props.onQuestionAnswer(t.target.value)}}))}}]),t}(a.a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Image"},a.a.createElement("img",{src:this.props.url,alt:this.props.url,width:"35%",height:"35%"}))}}]),t}(a.a.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Tips"},a.a.createElement("h4",null,this.props.tips.map((function(e,t){return a.a.createElement("li",{key:t},e)}))))}}]),t}(a.a.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Image2"},a.a.createElement("img",{src:this.props.url,alt:this.props.url,width:"25%",height:"25%"}))}}]),t}(a.a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Author"},a.a.createElement("h3",null," Autor: ",this.props.username))}}]),t}(a.a.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(S,{question:this.props.question.question}),a.a.createElement(A,{question:this.props.question,onQuestionAnswer:this.props.onQuestionAnswer}),a.a.createElement(x,{tips:this.props.question.tips}),a.a.createElement(N,{url:this.props.question.attachment.url}),a.a.createElement(T,{url:this.props.question.author.photo.url}),a.a.createElement(P,{username:this.props.question.author.username}))}}]),t}(a.a.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(D,{question:this.props.question,onQuestionAnswer:this.props.onQuestionAnswer})),a.a.createElement("div",null,a.a.createElement(I,{questionIndex:this.props.questionIndex,onChangeQuestion:this.props.onChangeQuestion,onSubmit:this.props.onSubmit})))}}]),t}(a.a.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Header"},a.a.createElement("h1",null,"Quiz Game"))}}]),t}(a.a.Component);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var z=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(q(!0)),this.fetchQuestions(),setInterval((function(){var t;e.props.dispatch({type:v,payload:{time:t}})}),1e3)}},{key:"fetchQuestions",value:function(){var e=this;fetch("https://quiz.dit.upm.es/api/quizzes/random10wa?token=638220fae031a10e5868").then((function(e){return e.json()})).then((function(t){e.props.dispatch(g(t)),e.props.dispatch(q(!1))})).catch((function(e){return console.log(e)}))}},{key:"endTimer",value:function(){this.props.dispatch(w(this.props.questions))}},{key:"render",value:function(){var e=this;return this.props.finished?a.a.createElement("div",{className:"Result"},a.a.createElement("h1",null,"Tu puntuaci\xf3n es de: ",this.props.score," puntos "),a.a.createElement("h2",null," Tus respuestas: "),this.props.questions.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement("class",{className:"Resume"},t+1,".- ",e.question,": "),void 0===e.userAnswer?"Sin responder":e.answer.toUpperCase()===e.userAnswer.toUpperCase()?"ACIERTO":"ERROR")})),a.a.createElement("p",null,a.a.createElement(k,{value:"Volver a jugar",resetQuestions:function(){e.props.dispatch({type:y}),e.props.dispatch(q(!0)),e.fetchQuestions()}}))):this.props.fetching?a.a.createElement("div",null,a.a.createElement("h1",null,"Cargando las preguntas...")):(console.log(this.props.questions),a.a.createElement("div",{className:"Timer"},a.a.createElement(U,{score:this.props.score}),a.a.createElement("h1",null,"Tiempo restante: ",0===this.props.timer?this.endTimer():this.props.timer," segundos "),a.a.createElement("h2",null,"Question: ",this.props.questionIndex),a.a.createElement(R,{question:this.props.questions[this.props.currentQuestion],questionIndex:this.props.currentQuestion,onQuestionAnswer:function(t){e.props.dispatch(function(e,t){return{type:f,payload:{index:e,answer:t}}}(e.props.currentQuestion,t))},onChangeQuestion:function(t){e.props.dispatch(function(e){return{type:O,payload:{index:e}}}(t))},onSubmit:function(){e.props.dispatch(w(e.props.questions))},onInitQuestions:function(t){e.props.dispatch(g(t))}})))}}]),t}(r.Component);var G=Object(h.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))(z),H=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(p.a)(t).call(this,e))).initialState={score:0,finished:!1,currentQuestion:0,questions:[],fetching:!0,timer:80},n.store=n.configureStore(),n}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(h.a,{store:this.store},a.a.createElement("div",{style:{height:"100%"}},a.a.createElement(G,null)))}},{key:"configureStore",value:function(){return Object(d.c)(Q,this.initialState)}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.163bbc42.chunk.js.map